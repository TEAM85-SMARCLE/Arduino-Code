# 아두이노 로봇 제어 시스템

이 프로젝트는 아두이노를 기반으로 한 로봇 제어 시스템으로, 로봇이 장애물을 피하면서 최단 경로를 탐색하여 자율적으로 이동할 수 있게 해줍니다. 로봇은 DC 모터를 사용하여 이동하며, 서보 모터를 통해 방향을 조정합니다.

## 주요 기능

- **연결 리스트를 통한 데이터 관리**: 로봇은 주변의 장애물과의 거리를 측정하고, 각 방향에서의 거리를 연결 리스트에 저장합니다. 이 리스트는 로봇이 최적의 경로를 선택하는 데 사용됩니다.
  
- **DC 모터 제어**: Adafruit 모터 쉴드를 사용하여 두 개의 DC 모터를 제어합니다. 이 모터들은 로봇의 이동을 담당하며, 후진 및 정지 동작을 수행합니다.

- **서보 모터 제어**: 서보 모터는 로봇의 방향을 조정하는 데 사용됩니다. 좌우로 45도씩 조향하여 장애물과의 거리를 측정합니다.

- **시리얼 통신**: 파이썬 프로그램과 시리얼 통신을 통해 로봇에 명령을 전달하고, 로봇의 상태를 모니터링합니다.

## 주요 클래스 및 함수 설명

### `Node` 구조체

- **direction**: 로봇의 조향 방향 (오른쪽 또는 왼쪽)
- **movementDistance**: 해당 방향으로의 이동 거리
- **objectDistance**: 해당 방향에서 측정된 장애물과의 거리
- **next**: 다음 노드를 가리키는 포인터

### `LinkedList` 클래스

- **append(direction, movementDistance, objectDistance)**: 새로운 노드를 리스트에 추가하는 함수입니다.
- **findMinDistance()**: 리스트에서 가장 짧은 거리를 가진 노드를 찾아 반환하는 함수입니다.

### `setup()` 함수

- 시리얼 통신을 초기화하고, DC 모터 및 서보 모터의 초기 설정을 수행합니다.

### `loop()` 함수

- 시리얼 통신을 통해 명령을 수신하고, 명령에 따라 로봇의 동작을 제어합니다.
  - **find**: 로봇이 주변을 스캔하고 최단 거리 방향으로 이동합니다.
  - **arrive**: 목적지에 도착했음을 알리고 모터를 정지합니다.
  - **기타**: 잘못된 명령이 수신되면 모터를 정지시키고 오류 메시지를 출력합니다.

### `moveToDirection(direction)` 함수

- 주어진 방향으로 로봇을 이동시키는 함수입니다.

### `waitAndGetDistance()` 함수

- 파이썬 프로그램으로부터 장애물과의 거리를 수신하는 함수입니다.

## 동작 시나리오

1. 사용자는 시리얼 통신을 통해 로봇에 명령을 전송합니다.
2. "find" 명령이 수신되면, 로봇은 오른쪽과 왼쪽으로 조향하여 장애물과의 거리를 측정하고, 가장 가까운 쪽으로 이동합니다.
3. "arrive" 명령이 수신되면, 로봇은 모터를 정지시키고 다음 명령을 대기합니다.
4. 기타 잘못된 명령이 수신되면, 로봇은 모터를 정지시키고 오류 메시지를 출력합니다.

## 설치 및 실행 방법

1. Arduino IDE를 사용하여 코드를 아두이노 보드에 업로드합니다.
2. 시리얼 모니터 또는 파이썬 스크립트를 사용하여 로봇에 명령을 전송합니다.

## 참조

이 프로젝트는 Adafruit 모터 쉴드와 서보 모터를 사용하여 구현되었습니다. 관련 라이브러리를 설치하고 사용하는 방법은 [Adafruit 모터 쉴드 라이브러리](https://learn.adafruit.com/adafruit-motor-shield/library-reference)에서 확인할 수 있습니다.
